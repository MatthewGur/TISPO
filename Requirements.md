**АДМ-001: Управление уровнями лояльности**
User story:  
Я, как администратор, хочу управлять уровнями лояльности, чтобы настраивать условия начисления баллов для покупателей в зависимости от их активности.  
  
Обоснование необходимости:  
Функционал управления уровнями лояльности позволяет администратору гибко настраивать программу лояльности, мотивируя покупателей совершать больше покупок и повышая их вовлеченность.  
  
Критерии приемки:  
  
Просмотр списка уровней лояльности:  

1. При нажатии на кнопку "Настроить данные приложения" бот выводит кнопки уровней и кнопки добавления и удаления уровней.

2. При нажатии на кнопку уровня отображается информация об уровне:

	a) Название уровня.

	b) Сумма покупок для достижения уровня.

	c) Процент начисления баллов.

Добавление нового уровня лояльности:

1. На странице " Настроить данные приложения" доступна кнопка "Добавить уровень".

2. При нажатии на кнопку открывается форма с полями:

	a) Сумма покупок для достижения уровня (обязательное поле, числовое поле).

	b) Процент начисления баллов (обязательное поле, числовое поле).

3. После заполнения формы и нажатия кнопки "Сохранить" новый уровень добавляется в таблицу уровней.  
  
Редактирование уровня лояльности:

1. На странице уровня доступна кнопка "Редактировать".

2. При нажатии на кнопку открывается форма с предзаполненными данными уровня.

3. Администратор может изменить:

	a) Сумму покупок для достижения уровня.

	b) Процент начисления баллов.

4. После внесения изменений и нажатия кнопки "Сохранить" изменения применяются.  
  
Удаление уровня лояльности:

1. На странице уровня доступна кнопка "Удалить".

2. При нажатии на кнопку система запрашивает подтверждение удаления.

3. После подтверждения уровень удаляется из таблицы.

4. Все пользователи, находящиеся на удаленном уровне, переводятся на предыдущий уровень (если такой существует).

**АДМ-002: Управление пользователями**  
User story:  
Я, как администратор, хочу управлять пользователями программы лояльности, чтобы редактировать их данные, начислять или списывать баллы, блокировать или удалять пользователей, а также просматривать список всех участников программы.  
  
Обоснование необходимости:  
Функционал управления пользователями позволяет администратору контролировать участников программы лояльности, исправлять ошибки, начислять бонусы.  
  
Критерии приемки:  
  
Доступ к меню управления пользователями:

1. В чате администратора доступна кнопка "Управление пользователями".

2. При нажатии на кнопку открывается меню с вариантами действий:

	a) Отредактировать данные пользователя.

	b) Удалить пользователя.

	c) Заблокировать/разблокировать пользователя.

	d) Посмотреть список всех пользователей.

Редактирование данных пользователя:

1. При выборе пункта "Отредактировать данные" администратор вводит ID пользователя.

2. Система отображает информацию о пользователе:

	a) ID телеграмм: [ID].

	1. Username: [Username телеграмм].

	2. Имя: [Имя].

	3. Роль: [Роль в системе: администратор/пользователь].

	4. Баллов лояльности: [число].

	5. Потраченная сумма: [число].

	6. Уровень лояльности: [число].

	7. Процент начисления баллов: [процент].

3. Администратор может выполнить следующие действия:

	a) Добавить покупку:

		i. Вводит сумму покупки.

		ii. Система автоматически пересчитывает баллы и обновляет данные пользователя.

	b) Начислить баллы:

		i. Вводит количество баллов для начисления.

		ii. Система добавляет баллы к текущему балансу пользователя.

	с) Списать баллы:

		1. Вводит количество баллов для списания.

		2. Система проверяет, достаточно ли баллов у пользователя, и списывает их.  

Удаление пользователя:

1. При выборе пункта "Удалить пользователя" администратор вводит ID пользователя.

2. Система запрашивает подтверждение:  
Вы уверены, что хотите удалить пользователя с ID [ID]?

3. После подтверждения пользователь удаляется из базы данных.  
  
Блокировка/разблокировка пользователя:

1. При выборе пункта "Заблокировать/разблокировать пользователя" администратор вводит ID пользователя.

2. Система отображает текущий статус пользователя (заблокирован/активен).

3. Администратор может изменить статус:

	a) Если пользователь активен, система блокирует его.

	b) Если пользователь заблокирован, система разблокирует его.

4. После изменения статуса система отправляет уведомление:  
Статус пользователя с ID [ID] изменен на [новый статус].

Просмотр списка всех пользователей:  
При выборе пункта "Посмотреть список всех пользователей" система отображает таблицу:  
  
Список пользователей:

Всего найдено: [число]  
- Username: [Username] – ID: [ID].  
- Username: [Username] – ID: [ID].    
  
Обработка ошибок:

1. Если введенный ID пользователя не найден, система отправляет сообщение:  
Пользователь с ID [ID] не найден.

2. Если при редактировании данных, удалении или блокировке возникает ошибка, система отправляет сообщение:  
Произошла ошибка. Пожалуйста, попробуйте позже.
